jQuery(function(d){const e=function(g){return g.is(".processing")||g.parents(".processing").length};const f=function(g){if(!e(g)){g.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:0.6}})}};const a=function(g){g.removeClass("processing").unblock()};const b=function(g){d(g).inputmask({mask:awof_scripts.setting.mask,placeholder:d(g).attr("placeholder")})};const c={form:".awof-form",button:".awof-button",field:".awof-phone-input",nonce:"#awof-cart-nonce",message:'<div class="awof-message"></div>',error:'<span class="awof-error">'+awof_scripts.translate.empty_field+"</span>",timeoutError:awof_scripts.setting.timeout_error,timeoutSuccess:awof_scripts.setting.timeout_success,init:function(){d(document.body).on("submit",this.form,this.submit).on("wc_fragments_loaded",function(g){b(c.field)})},request:function(h,i,g){d.ajax({type:"POST",dataType:"json",url:h.attr("action"),data:i,beforeSend:function(j){j.setRequestHeader("X-WP-Nonce",i.nonce)},success:function(j){a(h);if(j.status===200){c.messageBox(h,"success",j.message);setTimeout(function(){window.location.href=j.url},c.timeoutSuccess);return false}},error:function(j){a(h);if(j.status===412){c.messageBox(h,"error",j.responseJSON.message)}if(j.status===400){console.log(j.responseJSON.data.details.awof_phone.message);c.setErrorStyle(g)}}})},submit:function(k){k.preventDefault();const j=d(k.target);const g=j.find(c.field);const i={};const h=new FormData(k.target);h.forEach(function(m,l){i[l]=m});if(!c.validation(g.val())){c.setErrorStyle(g);return false}f(d(k.target));c.request(j,i,g)},validation:function(g){if(g){let re=/[^ \(\)\-\+\d]/;return !g.match(re)}return false},setErrorStyle:function(g){g.addClass("awof-phone-error").before(c.error).focus();setTimeout(function(){g.removeClass("awof-phone-error").prev().remove()},c.timeoutError)},messageBox:function(h,g,i){h.after(c.message).next().addClass(g).append(i);setTimeout(function(){h.next().remove()},c.timeoutError)}};c.init()});